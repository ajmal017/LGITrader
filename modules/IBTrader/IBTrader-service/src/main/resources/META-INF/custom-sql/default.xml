<?xml version="1.0" encoding="UTF-8"?>
<custom-sql>
    <sql id="com.ibtrader.data.service.persistence.RealtimeFinder.findMinMaxRealTime">
    <![CDATA[ 
        SELECT 
        		min(value), max(value) 
        FROM 
        		IBTrader_Realtime      
        WHERE
            (IBTrader_Realtime.createDate>=?) AND
            (IBTrader_Realtime.createDate<=?) AND
            (IBTrader_Realtime.shareId=?)
            AND (IBTrader_Realtime.companyid=?)
            AND (IBTrader_Realtime.groupid=?)
     ]]>
    </sql>
     <sql id="com.ibtrader.data.service.persistence.RealtimeFinder.findLastRealTime">
    <![CDATA[ 
        SELECT 
        		*
        FROM 
        		IBTrader_Realtime      
        WHERE            
            (IBTrader_Realtime.shareId=?)
            AND (IBTrader_Realtime.companyid=?)
            AND (IBTrader_Realtime.groupid=?)
         	AND (IBTrader_Realtime.createDate)=  (SELECT  max(IBTrader_Realtime.createDate) FROM 
					         			IBTrader_Realtime      
					      	  		WHERE            
					           			 (IBTrader_Realtime.shareId=?)
					          		  AND (IBTrader_Realtime.companyid=?)
					          		  AND (IBTrader_Realtime.groupid=?))
            
            
     ]]>
    </sql>
</custom-sql>